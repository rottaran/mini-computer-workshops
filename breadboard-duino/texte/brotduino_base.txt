====== Brotduino Base ======

/*{{ :arbeitsgemeinschaften:digitaltechnik:brotduino:minigong-02.jpg?300|}}*/
{{ :projekte:digiwerkstatt:img_4332.jpg?direct&310|}}
{{ :projekte:digiwerkstatt:img_4333.jpg?direct&310|}}
{{ :projekte:digiwerkstatt:brotduino-base-schematic.jpg?direct&310|}}
{{ :projekte:digiwerkstatt:atmega328w.png?direct&310|}}

===== Arduino on a Breadboard =====

“Arduino is an open-source electronics prototyping platform based on flexible, easy-to-use hardware and software. It's intended for artists, designers, hobbyists and anyone interested in creating interactive objects or environments” [i]. The ATmega microcontroller is the brain in the center of the Arduino. It is a complete small computer with processor, memory and so on. 
Instead of extending a ready-made Arduino board, we rebuilt our own on a prototyping breadboard.  Figure 2 shows a comparison of the original Arduino and our basic breadboard setup.

==== Hardware: We have to stick together! ====

To build your own Arduino on a breadboard, you need a breadboard, a 16MHz crystal, ATmega168 or ATmega328 microcomputer, a USB-to-serial converter, a 10kΩ resistor, two 100nF capacitors, two 22pF capacitors, and some wires.  Figure 1 shows a circuit diagram of how to connect the components with the microcomputer on the left and the USB converter on the right. 

The 16MHz crystal controls the clock speed of the microcomputer, which means that it will execute 16 million instructions in each second. The USB-to-serial converter is used to upload your programs from a computer to the microcomputer. We use a cheap CP2012-based device found on Ebay. Any will do, but it is important choose one with DTR instead of RST pin.  The resistor and one 100nF capacitor connect the DTR pin to the microcomputer's reset pin. This allows to reboot the controller. Sometimes it is necessary to swap the TX and RX lines of the serial connection.

==== Operator: We get signal. ====
 
In order to teach your self-made Arduino new tricks, you need the Arduino IDE software from [1]. With this editor you can write own programs and send them over USB to the microcomputer. But first you need a small operating system, called “bootloader”, on the controller, which provides the communication interface to your computer. The bootloader can be uploaded with a working Arduino, see [ii], or you buy a microcomputer with pre-installed Arduino bootloader.
Basic Arduino programs consist of two functions. The instructions in the setup() function are executed once after the microcomputer was restarted. Then, the loop() function is executed over and over. You can write own functions or import some, which, then, can be used in setup and loop. A  simple example is shown in Figure 3. For the mapping of Arduino pins to ATmega pins see, e.g., [iii].

<code c++>
int ledPin = 9;

void setup() {
  pinMode(ledPin,OUTPUT);
}

void loop() {
  digitalWrite(ledPin,HIGH); //5V @ pin
  delay(500);
  digitalWrite(ledPin,LOW); //GND @ pin
  delay(500);
}
</code>

===== Materialliste =====

<csv delim=;>
Bezugsquelle;Bestellnummer;Einzelpreis;Stückzahl;Kommentar
Reichelt;ATMEGA 328P-PU;2,55;1;der Mikrocontroller
Reichelt;16,0000-HC18;0,16;1;Schwingquarz 16MHz
Reichelt;KERKO 22P;0,06;2;Kondensator 22pF
Reichelt;Z5U-2,5 100N;0,04;3;Kondensator 100nF
Reichelt;SMCC 68µ;0,22;1;Drosselspule 68µH 
Reichelt;AK 669-1,8;0,95;1;USB2.0-Verlängerung, A-St. auf A-Bu., 1,8m
Reichelt;STECKBOARD 1K2V;2,95;1;Experimentier-Steckboard 640/200 Kontakte
Reichelt;1/4W 10K;0,103;1;Kohleschichtwiderstand 1/4W, 5%, 10 K-Ohm
Ebay;CP2012;2,25;1;USB to UART TTL Converter mit DTR Pin statt RST!
</csv>

  * Es lohnt Staffelpreise zu beachten und ggf. größere Stückzahlen bestellen.
  * Der CP2012 bei ebay: http://www.ebay.de/itm/USB-2-0-to-UART-TTL-6PIN-Stecker-Modul-Abdeckung-Serial-Converter-CP2012-LS4G-/121211981030?pt=DE_Computing_USB_Kabel_Hubs_Adapter&hash=item1c38cc0ce6
  * es wird ein Computer oder Laptop gebraucht, um Programme zu schreiben und auf den Brotduino hochladen zu können. Als Entwicklungsumgebung kann die Arduino IDE benutzt werden: [[http://arduino.cc/en/Main/Software]]

===== Literatur =====

  * http://arduino.cc/en/Main/Standalone
  * http://www.appliedplatonics.com/breaduino/
  * https://sites.google.com/site/breadduino/
  * http://www.youtube.com/watch?v=8NLdXg2-3Ac und {{http://www.erik-bartmann.de/download/BuildYourOwnArduino.pdf}}
  * http://www.anvilex.de/extern/documents/DS_P012_45.pdf
  * http://forums.adafruit.com/viewtopic.php?f=44&t=18957&p=98175#p98175 ATmega328 Label zum Ausdrucken und Aufkleben
  * https://learn.adafruit.com/boarduino-kits
  * http://www.adafruit.com/categories/19


